{% extends "base.html" %}

{% block content %}
{% load static %}

<div class="container p-3" style="background-color: rgb(219, 219, 219);">
    <h2 align="center">Storico Donazioni</h2>
    <h4 align="center">Tessera numero {{ tessera }}</h4>
    <table class="table table-bordered text-nowrap" id="Donazioni">
        <thead>
            <tr>
                <th scope="col" class="text-center">ID Donazione</th>
                <th scope="col" class="text-center">Nome</th>
                <th scope="col" class="text-center">Cognome</th>
                <th scope="col" class="text-center">Tessera Donatore</th>
                <th scope="col" class="text-center">Data</th>
                <th scope="col" class="text-center">Tipo</th>
                <th scope="col" class="text-center">Quantitativo (ml)</th>
            </tr>
        </thead>
        <tbody>
        {% for donazione in donazioni %}
            <tr class="text-center">
                <td>{{ donazione.id }}</td>
                <td>{{ donazione.donatore.nome }}</td>
                <td>{{ donazione.donatore.cognome }}</td>
                <td>{{ donazione.donatore_id }}</td>
                <td>{{ donazione.data|date:"d/m/Y" }}</td>
                <td>{{ donazione.tipo }}</td>
                <td>{{ donazione.quantitativo }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<script>
    $(document).ready(function() {
        var table = $('#Donazioni').DataTable({
            responsive: true,
            language: {
                url: "{% static 'datatables_it-IT.json' %}",
            },
            order: [
                [0, 'desc']
            ],
        });
    });
</script>

{% endblock content %}